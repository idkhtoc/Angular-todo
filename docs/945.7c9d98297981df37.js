"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[945],{6745:(b,g,n)=>{n.d(g,{M:()=>V});var e=n(8256),c=n(7579),a=n(8421),o=n(9751),i=n(5577),_=n(1144),u=n(576),M=n(3268);const f=["addListener","removeListener"],y=["addEventListener","removeEventListener"],l=["on","off"];function h(s,r,t,d){if((0,u.m)(t)&&(d=t,t=void 0),d)return h(s,r,t).pipe((0,M.Z)(d));const[E,v]=function D(s){return(0,u.m)(s.addEventListener)&&(0,u.m)(s.removeEventListener)}(s)?y.map(P=>O=>s[P](r,O,t)):function m(s){return(0,u.m)(s.addListener)&&(0,u.m)(s.removeListener)}(s)?f.map(p(s,r)):function C(s){return(0,u.m)(s.on)&&(0,u.m)(s.off)}(s)?l.map(p(s,r)):[];if(!E&&(0,_.z)(s))return(0,i.z)(P=>h(P,r,t))((0,a.Xf)(s));if(!E)throw new TypeError("Invalid event target");return new o.y(P=>{const O=(...B)=>P.next(1<B.length?B:B[0]);return E(O),()=>v(O)})}function p(s,r){return t=>d=>s[t](r,d)}var K=n(727);class k extends K.w0{constructor(r,t){super()}schedule(r,t=0){return this}}const A={setInterval(s,r,...t){const{delegate:d}=A;return d?.setInterval?d.setInterval(s,r,...t):setInterval(s,r,...t)},clearInterval(s){const{delegate:r}=A;return(r?.clearInterval||clearInterval)(s)},delegate:void 0};var x=n(8737);const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class T{constructor(r,t=T.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,d){return new this.schedulerActionCtor(this,r).schedule(d,t)}}T.now=w.now;const Z=new class R extends T{constructor(r,t=T.now){super(r,t),this.actions=[],this._active=!1}flush(r){const{actions:t}=this;if(this._active)return void t.push(r);let d;this._active=!0;do{if(d=r.execute(r.state,r.delay))break}while(r=t.shift());if(this._active=!1,d){for(;r=t.shift();)r.unsubscribe();throw d}}}(class L extends k{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){var d;if(this.closed)return this;this.state=r;const E=this.id,v=this.scheduler;return null!=E&&(this.id=this.recycleAsyncId(v,E,t)),this.pending=!0,this.delay=t,this.id=null!==(d=this.id)&&void 0!==d?d:this.requestAsyncId(v,this.id,t),this}requestAsyncId(r,t,d=0){return A.setInterval(r.flush.bind(r,this),d)}recycleAsyncId(r,t,d=0){if(null!=d&&this.delay===d&&!1===this.pending)return t;null!=t&&A.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const d=this._execute(r,t);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let E,d=!1;try{this.work(r)}catch(v){d=!0,E=v||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),E}unsubscribe(){if(!this.closed){const{id:r,scheduler:t}=this,{actions:d}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,x.P)(d,this),null!=r&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}});var H=n(3532);var F=n(4482),U=n(5032),I=n(5403),J=n(4671);function j(s,r){return s===r}let V=(()=>{class s{constructor(t){this.elementRef=t,this.destroy$=new c.x,this.delayTime=500,this.delayedInput=new e.vpe}ngOnInit(){h(this.elementRef.nativeElement,"input").pipe(function $(s){return(0,F.e)((r,t)=>{let d=!1,E=null,v=null;const P=()=>{if(v?.unsubscribe(),v=null,d){d=!1;const O=E;E=null,t.next(O)}};r.subscribe((0,I.x)(t,O=>{v?.unsubscribe(),d=!0,E=O,v=(0,I.x)(t,P,U.Z),(0,a.Xf)(s(O)).subscribe(v)},()=>{P(),t.complete()},void 0,()=>{E=v=null}))})}(()=>function W(s=0,r,t=Z){let d=-1;return null!=r&&((0,H.K)(r)?t=r:d=r),new o.y(E=>{let v=function S(s){return s instanceof Date&&!isNaN(s)}(s)?+s-t.now():s;v<0&&(v=0);let P=0;return t.schedule(function(){E.closed||(E.next(P++),0<=d?this.schedule(void 0,d):E.complete())},v)})}(this.delayTime)),function N(s,r=J.y){return s=s??j,(0,F.e)((t,d)=>{let E,v=!0;t.subscribe((0,I.x)(d,P=>{const O=r(P);(v||!s(E,O))&&(v=!1,E=O,d.next(P))}))})}((t,d)=>t===d,t=>t.target.value),function z(s){return(0,F.e)((r,t)=>{(0,a.Xf)(s).subscribe((0,I.x)(t,()=>t.complete(),U.Z)),!t.closed&&r.subscribe(t)})}(this.destroy$)).subscribe(t=>this.delayedInput.emit(t))}ngOnDestroy(){this.destroy$.next()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.SBq))},s.\u0275dir=e.lG2({type:s,selectors:[["","appDelayedInput",""]],inputs:{delayTime:"delayTime"},outputs:{delayedInput:"delayedInput"}}),s})()},3239:(b,g,n)=>{n.d(g,{F:()=>a});var e=n(6895),c=n(8256);let a=(()=>{class o{}return o.\u0275fac=function(_){return new(_||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[e.ez]}),o})()},4523:(b,g,n)=>{n.d(g,{qb:()=>a,vA:()=>c,wn:()=>e});var e=(()=>{return(o=e||(e={})).date="date",o.name="name",e;var o})(),c=(()=>{return(o=c||(c={})).boards="B",o.tasks="T",c;var o})(),a=(()=>{return(o=a||(a={})).TD="TD",o.IP="IP",o.D="D",a;var o})()},8975:(b,g,n)=>{n.d(g,{d:()=>a});var e=n(6895),c=n(8256);let a=(()=>{class o{}return o.\u0275fac=function(_){return new(_||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[e.ez]}),o})()},6622:(b,g,n)=>{n.d(g,{O:()=>c});var e=n(8256);let c=(()=>{class a{transform(i,_){return i.length<=_?i:i.slice(0,_)+"..."}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275pipe=e.Yjl({name:"description",type:a,pure:!0}),a})()},3911:(b,g,n)=>{n.d(g,{o:()=>a});var e=n(6895),c=n(8256);let a=(()=>{class o{}return o.\u0275fac=function(_){return new(_||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[e.ez]}),o})()},486:(b,g,n)=>{n.d(g,{g:()=>c});var e=n(8256);let c=(()=>{class a{transform(i,_,u,M){switch(M){case"date":i=i?.sort((f,y)=>this.filterSort(f.created_date,y.created_date,u));break;case"name":i=i?.sort((f,y)=>this.filterSort(f.name,y.name,u));break;case"D":case"IP":case"TD":i=i?.sort((f,y)=>this.filterSort(this.getAmountOfTasks(f.tasks,M),this.getAmountOfTasks(y.tasks,M),u))}return i?.filter(({name:f})=>f?.includes(_))}filterSort(i,_,u){return i===_?0:u?i>_?1:-1:i<_?1:-1}getAmountOfTasks(i,_){return i.filter(u=>u.status===_).length}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275pipe=e.Yjl({name:"filter",type:a,pure:!0}),a})()},8945:(b,g,n)=>{n.d(g,{E:()=>o});var e=n(1135),c=n(8256),a=n(6858);let o=(()=>{class i{constructor(u){this.http=u,this.boards=new e.X([]),this.boards$=this.boards.asObservable()}getBoards(){this.http.getBoards().subscribe(u=>this.boards.next(u.boards))}addBoard(u,M){this.http.addBoard(u,M).subscribe(f=>this.boards.next([...this.boards.getValue(),f]))}updateBoard(u,M){this.http.updateBoard(u,M).subscribe(f=>this.boards.next(this.boards.getValue().map(y=>y._id===f._id?f:y)))}deleteBoard(u,M){this.http.deleteBoard(u).subscribe(()=>{M&&M(),this.boards.next(this.boards.getValue().filter(f=>f._id!==u))})}}return i.\u0275fac=function(u){return new(u||i)(c.LFG(a.O))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},6858:(b,g,n)=>{n.d(g,{O:()=>M});var e=n(2843),c=n(4004),a=n(262),o=n(8256),i=n(529),_=n(4976),u=n(7185);let M=(()=>{class f{constructor(l,h,p){this.http=l,this.router=h,this.toastr=p,this._catchError=m=>{const C=m.error?.message||m.message;return this.toastr.error(C),(0,e._)(()=>C)},this._mapRequest=m=>(this.toastr.success(m.message),m.board)}getBoardById(l){return this.http.get(`api/boards/${l}`,{withCredentials:!0}).pipe((0,c.U)(h=>h.board),(0,a.K)(h=>(this.router.navigateByUrl("/boards"),this._catchError(h))))}getBoards(){return this.http.get("api/boards",{withCredentials:!0}).pipe((0,a.K)(this._catchError))}addBoard(l,h){return this.http.post("api/boards",{name:l,description:h},{withCredentials:!0}).pipe((0,c.U)(this._mapRequest),(0,a.K)(this._catchError))}updateBoard(l,h){return this.http.put(`api/boards/${l}`,{name:h},{withCredentials:!0}).pipe((0,c.U)(this._mapRequest),(0,a.K)(this._catchError))}deleteBoard(l){return this.http.delete(`api/boards/${l}`).pipe((0,c.U)(h=>{this.toastr.success(h.message)}),(0,a.K)(this._catchError))}changeBoardColumnColor(l,h,p){return this.http.patch(`api/boards/${l}/column_color`,{column:h,color:p},{withCredentials:!0}).pipe((0,c.U)(m=>m.board),(0,a.K)(this._catchError))}addTask(l,h,p){return this.http.post(`api/boards/${l}/tasks`,{name:h,status:p},{withCredentials:!0}).pipe((0,c.U)(this._mapRequest),(0,a.K)(this._catchError))}updateTask(l,h,p){return this.http.put(`api/boards/${l}/tasks/${h}`,{name:p},{withCredentials:!0}).pipe((0,c.U)(this._mapRequest),(0,a.K)(this._catchError))}deleteTask(l,h){return this.http.delete(`api/boards/${l}/tasks/${h}`,{withCredentials:!0}).pipe((0,c.U)(this._mapRequest),(0,a.K)(this._catchError))}setNewTaskStatus(l,h,p){return this.http.patch(`api/boards/${l}/tasks/${h}/status`,{status:p},{withCredentials:!0}).pipe((0,c.U)(m=>m.board),(0,a.K)(this._catchError))}toggleArchiveTask(l,h){return this.http.post(`api/boards/${l}/tasks/${h}/archive`,{},{withCredentials:!0}).pipe((0,c.U)(p=>p.board),(0,a.K)(this._catchError))}addComment(l,h,p){return this.http.post(`api/boards/${l}/tasks/${h}/comments`,{comment:p},{withCredentials:!0}).pipe((0,c.U)(this._mapRequest),(0,a.K)(this._catchError))}deleteComment(l,h,p){return this.http.delete(`api/boards/${l}/tasks/${h}/comments/${p}`,{withCredentials:!0}).pipe((0,c.U)(this._mapRequest),(0,a.K)(this._catchError))}}return f.\u0275fac=function(l){return new(l||f)(o.LFG(i.eN),o.LFG(_.F0),o.LFG(u._W))},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},355:(b,g,n)=>{n.d(g,{B:()=>y});var e=n(8256),c=n(4523),a=n(6895),o=n(6745);function i(l,h){if(1&l){const p=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(p);const C=e.oxw();return e.KtG(C.openDescModal())}),e._uU(1,"Description"),e.qZA()}}function _(l,h){if(1&l){const p=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(p);const C=e.oxw();return e.KtG(C.openArchiveModal())}),e._uU(1,"Archive"),e.qZA()}}function u(l,h){1&l&&(e.TgZ(0,"optgroup",15)(1,"option",16),e._uU(2,"ToDo"),e.qZA(),e.TgZ(3,"option",17),e._uU(4,"In progress"),e.qZA(),e.TgZ(5,"option",18),e._uU(6,"Done"),e.qZA()())}function M(l,h){if(1&l){const p=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(p);const C=e.oxw();return e.KtG(C.openAddModal())}),e._uU(1,"Add Board"),e.qZA()}}function f(l,h){if(1&l){const p=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(p);const C=e.oxw();return e.KtG(C.deleteBoard())}),e._uU(1,"Delete Board"),e.qZA()}}let y=(()=>{class l{constructor(){this.FilterType=c.vA,this.openDescModalEvent=new e.vpe,this.openArchiveModalEvent=new e.vpe,this.openAddModalEvent=new e.vpe,this.searchEvent=new e.vpe,this.selectFilterValueEvent=new e.vpe,this.selectFilterDirectionEvent=new e.vpe,this.deleteBoardEvent=new e.vpe}ngOnInit(){}search(p){this.searchEvent.emit(p.target.value)}selectFilterValue(p){this.selectFilterValueEvent.emit(p.target.value)}selectFilterDirection(p){this.selectFilterDirectionEvent.emit("ASC"===p.target.value)}openDescModal(){this.openDescModalEvent.emit()}openArchiveModal(){this.openArchiveModalEvent.emit()}openAddModal(){this.openAddModalEvent.emit()}deleteBoard(){this.deleteBoardEvent.emit()}}return l.\u0275fac=function(p){return new(p||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-filter-header"]],inputs:{filterType:"filterType",title:"title"},outputs:{openDescModalEvent:"openDescModalEvent",openArchiveModalEvent:"openArchiveModalEvent",openAddModalEvent:"openAddModalEvent",searchEvent:"searchEvent",selectFilterValueEvent:"selectFilterValueEvent",selectFilterDirectionEvent:"selectFilterDirectionEvent",deleteBoardEvent:"deleteBoardEvent"},decls:20,vars:7,consts:[[1,"dashboard-header"],[1,"dashboard-header__title"],["class","open",3,"click",4,"ngIf"],[1,"dashboard-header__search-panel"],["type","search","name","search","id","search","placeholder","Find !","appDelayedInput","",1,"search",3,"delayTime","delayedInput"],["name","filter",1,"filter",3,"change"],["value","date","selected",""],["value","name"],["label","Number of tasks",4,"ngIf"],["name","direction",1,"direction",3,"change"],["value","DESC","selected",""],["value","ASC"],["class","add",3,"click",4,"ngIf"],["class","delete",3,"click",4,"ngIf"],[1,"open",3,"click"],["label","Number of tasks"],["value","TD"],["value","IP"],["value","D"],[1,"add",3,"click"],[1,"delete",3,"click"]],template:function(p,m){1&p&&(e.TgZ(0,"section",0)(1,"h2",1),e._uU(2),e.qZA(),e.YNc(3,i,2,0,"button",2),e.YNc(4,_,2,0,"button",2),e.TgZ(5,"div",3)(6,"input",4),e.NdJ("delayedInput",function(D){return m.search(D)}),e.qZA(),e.TgZ(7,"select",5),e.NdJ("change",function(D){return m.selectFilterValue(D)}),e.TgZ(8,"option",6),e._uU(9,"Date"),e.qZA(),e.TgZ(10,"option",7),e._uU(11,"Name"),e.qZA(),e.YNc(12,u,7,0,"optgroup",8),e.qZA(),e.TgZ(13,"select",9),e.NdJ("change",function(D){return m.selectFilterDirection(D)}),e.TgZ(14,"option",10),e._uU(15,"DESC"),e.qZA(),e.TgZ(16,"option",11),e._uU(17,"ASC"),e.qZA()(),e.YNc(18,M,2,0,"button",12),e.YNc(19,f,2,0,"button",13),e.qZA()()),2&p&&(e.xp6(2),e.Oqu(m.title),e.xp6(1),e.Q6J("ngIf",m.filterType===m.FilterType.tasks),e.xp6(1),e.Q6J("ngIf",m.filterType===m.FilterType.tasks),e.xp6(2),e.Q6J("delayTime",600),e.xp6(6),e.Q6J("ngIf",m.filterType===m.FilterType.boards),e.xp6(6),e.Q6J("ngIf",m.filterType===m.FilterType.boards),e.xp6(1),e.Q6J("ngIf",m.filterType===m.FilterType.tasks))},dependencies:[a.O5,o.M],styles:[".dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:10vh;min-height:6rem;padding:1rem 2rem;background:#c0c0c0}.dashboard-header[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]{margin-left:1rem;border:none;height:3rem;padding:.5rem;font-size:1.2rem;background:none;color:#8d8d8d;cursor:pointer;transition:all .5s ease}.dashboard-header[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.dashboard-header__title[_ngcontent-%COMP%]{color:#8d8d8d}.dashboard-header__search-panel[_ngcontent-%COMP%]{display:flex;column-gap:1rem}.dashboard-header__search-panel[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{border:none;font-size:1.2rem;padding:.5rem 1rem}.dashboard-header__search-panel[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%], .dashboard-header__search-panel[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{border:none;background:#8d8d8d;font-size:1.2rem;padding:.5rem;cursor:pointer;transition:all .5s ease}.dashboard-header__search-panel[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]:hover, .dashboard-header__search-panel[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{opacity:.6}.dashboard-header__search-panel[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{background:#b72d2d}.dashboard-header[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .dashboard-header[_ngcontent-%COMP%]   .direction[_ngcontent-%COMP%]{border:none;padding:.5rem;cursor:pointer;font-size:1.2rem;outline:none}.dashboard-header[_ngcontent-%COMP%]   .modal-description[_ngcontent-%COMP%]{position:fixed;z-index:1000;width:100vw;height:100vh;background:rgba(0,0,0,.4);top:0;left:0;display:flex;justify-content:center;align-items:center}.dashboard-header[_ngcontent-%COMP%]   .modal-description__wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:40%;height:50%;background:#fff}.dashboard-header[_ngcontent-%COMP%]   .modal-description__wrapper[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;font-size:1.2rem;cursor:pointer}.dashboard-header[_ngcontent-%COMP%]   .modal-description__wrapper[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:1rem;word-break:break-all;padding:1rem}"],changeDetection:0}),l})()},3446:(b,g,n)=>{n.d(g,{z:()=>a});var e=n(8256);const c=["*"];let a=(()=>{class o{constructor(){this.closeModalEvent=new e.vpe}ngOnInit(){}closeModal(_){!["modal","close"].includes(_.target.className)||this.closeModalEvent.emit()}onKeyDownHandler(_){"Escape"===_.key&&this.closeModalEvent.emit()}}return o.\u0275fac=function(_){return new(_||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-modal"]],hostBindings:function(_,u){1&_&&e.NdJ("keydown",function(f){return u.onKeyDownHandler(f)},!1,e.evT)},outputs:{closeModalEvent:"closeModalEvent"},ngContentSelectors:c,decls:5,vars:0,consts:[[1,"modal",3,"click"],[1,"modal-inner"],[1,"close",3,"click"]],template:function(_,u){1&_&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(f){return u.closeModal(f)}),e.TgZ(1,"div",1)(2,"button",2),e.NdJ("click",function(f){return u.closeModal(f)}),e._uU(3,"\u274c"),e.qZA(),e.Hsn(4),e.qZA()())},styles:[".modal[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;top:0;left:0;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-inner[_ngcontent-%COMP%]{position:relative;background:#f5f5f5;width:40vw;height:60vh;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column}.modal-inner[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;cursor:pointer;background:none;font-size:1.4rem;border:none;transition:all .3s ease-out}.modal-inner[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"]}),o})()},4466:(b,g,n)=>{n.d(g,{m:()=>o});var e=n(6895),c=n(3239),a=n(8256);let o=(()=>{class i{}return i.\u0275fac=function(u){return new(u||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[e.ez,c.F]}),i})()}}]);