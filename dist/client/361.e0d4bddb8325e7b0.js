"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[361],{2361:(D,m,i)=>{i.r(m),i.d(m,{BoardsModule:()=>V});var c=i(6895),l=i(4976),_=i(4523),t=i(8256),u=i(8945),g=i(355),d=i(433),f=i(3446);function C(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"Name is required"),t.qZA())}function b(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"Min length is 4"),t.qZA())}function h(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"Max length is 16"),t.qZA())}function M(e,r){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,C,2,0,"span",6),t.YNc(2,b,2,0,"span",6),t.YNc(3,h,2,0,"span",6),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.nameControl.errors.required),t.xp6(1),t.Q6J("ngIf",n.nameControl.errors.minlength),t.xp6(1),t.Q6J("ngIf",n.nameControl.errors.maxlength)}}let v=(()=>{class e{constructor(){this.addBoardEvent=new t.vpe,this.closeModalEvent=new t.vpe,this.addBoardForm=new d.cw({name:new d.NI("",[d.kI.required,d.kI.minLength(4),d.kI.maxLength(16)]),description:new d.NI("")})}ngOnInit(){}closeModal(){this.closeModalEvent.emit()}get nameControl(){return this.addBoardForm.get("name")}get descriptionControl(){return this.addBoardForm.get("description")}addBoard(){const n=this.addBoardForm.get("name")?.value,o=this.addBoardForm.get("description")?.value;this.addBoardEvent.emit({name:n,description:o}),this.nameControl.setValue(""),this.descriptionControl.setValue("")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-board-modal"]],outputs:{addBoardEvent:"addBoardEvent",closeModalEvent:"closeModalEvent"},decls:15,vars:3,consts:[[3,"closeModalEvent"],[1,"modal-inner__title"],[3,"formGroup","ngSubmit"],[1,"form-part"],["for","name"],["type","text","name","name","id","name","formControlName","name","required",""],[4,"ngIf"],["for","description"],["type","text","name","description","id","description","formControlName","description"],["type","submit",1,"submit",3,"disabled"]],template:function(n,o){1&n&&(t.TgZ(0,"app-modal",0),t.NdJ("closeModalEvent",function(){return o.closeModal()}),t.TgZ(1,"h1",1),t._uU(2,"Add board"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return o.addBoard()}),t.TgZ(4,"div",3)(5,"label",4),t._uU(6,"Name:"),t.qZA(),t._UZ(7,"input",5),t.YNc(8,M,4,3,"div",6),t.qZA(),t.TgZ(9,"div",3)(10,"label",7),t._uU(11,"Description:"),t.qZA(),t._UZ(12,"textarea",8),t.qZA(),t.TgZ(13,"button",9),t._uU(14,"Add"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("formGroup",o.addBoardForm),t.xp6(5),t.Q6J("ngIf",o.addBoardForm.invalid&&o.nameControl.touched&&o.nameControl.errors),t.xp6(5),t.Q6J("disabled",o.addBoardForm.invalid))},dependencies:[c.O5,f.z,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.sg,d.u],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%}form[_ngcontent-%COMP%]   .form-part[_ngcontent-%COMP%]{width:60%;margin-bottom:3rem}form[_ngcontent-%COMP%]   .form-part[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:.5rem}form[_ngcontent-%COMP%]   .form-part[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#af5050}form[_ngcontent-%COMP%]   .form-part[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-part[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#b4b4b4;font-size:1.2rem;margin-top:1rem;border:none;width:100%;padding:.5rem 1rem}form[_ngcontent-%COMP%]   .form-part[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;height:10rem}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{padding:.5rem;width:60%;border:none;font-size:1.2rem;background:#b8d69f;transition:all .5s ease}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:not(:disabled){cursor:pointer}form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1rem)}"],changeDetection:0}),e})();var B=i(6622);let O=(()=>{class e{transform(n,o){return o?n.filter(a=>a.status===o&&!a.is_archived).length:n.length}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"getTasksCount",type:e,pure:!0}),e})();function x(e,r){if(1&e&&(t.TgZ(0,"h3",14),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.Q6J("routerLink",n.board._id),t.xp6(1),t.Oqu(n.board.name)}}function P(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"input",15),t.NdJ("ngModelChange",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.boardUpdatingValue=a)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("ngModel",n.boardUpdatingValue)}}function T(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.setBoardUpdating())}),t._UZ(1,"img",17),t.qZA()}}function E(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.deleteBoard())}),t._UZ(1,"img",19),t.qZA()}}function Z(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.updateBoard())}),t._UZ(1,"img",21),t.qZA()}}const A=function(e){return{board:!0,updating:e}};let U=(()=>{class e{constructor(){this.updateBoardEvent=new t.vpe,this.deleteBoardEvent=new t.vpe,this.setBoardUpdatingEvent=new t.vpe,this.Status=_.qb,this.boardUpdatingValue=""}ngOnInit(){this.boardUpdatingValue=this.board.name}setBoardUpdating(){this.setBoardUpdatingEvent.emit()}deleteBoard(){this.deleteBoardEvent.emit()}updateBoard(){this.updateBoardEvent.emit(this.boardUpdatingValue)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-board"]],inputs:{board:"board",isBoardUpdating:"isBoardUpdating"},outputs:{updateBoardEvent:"updateBoardEvent",deleteBoardEvent:"deleteBoardEvent",setBoardUpdatingEvent:"setBoardUpdatingEvent"},decls:24,vars:28,consts:[[3,"ngClass"],[1,"board__text"],["class","board__text-name",3,"routerLink",4,"ngIf"],["class","board__text-name_active","name","boardName",3,"ngModel","ngModelChange",4,"ngIf"],[1,"board__text-description"],[1,"board__text-date"],[1,"counts"],[1,"todo"],[1,"ip"],[1,"done"],[1,"buttons"],["class","change",3,"click",4,"ngIf"],["class","delete",3,"click",4,"ngIf"],["class","update",3,"click",4,"ngIf"],[1,"board__text-name",3,"routerLink"],["name","boardName",1,"board__text-name_active",3,"ngModel","ngModelChange"],[1,"change",3,"click"],["src","../../../../../assets/change.svg","alt","change"],[1,"delete",3,"click"],["src","../../../../../assets/trashbin.svg","alt","trashbin"],[1,"update",3,"click"],["src","../../../../../assets/check.svg","alt","check"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,x,2,2,"h3",2),t.YNc(3,P,1,1,"input",3),t.TgZ(4,"p",4),t._uU(5),t.ALo(6,"description"),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.ALo(9,"date"),t.qZA()(),t.TgZ(10,"div",6)(11,"div",7),t._uU(12),t.ALo(13,"getTasksCount"),t.qZA(),t.TgZ(14,"div",8),t._uU(15),t.ALo(16,"getTasksCount"),t.qZA(),t.TgZ(17,"div",9),t._uU(18),t.ALo(19,"getTasksCount"),t.qZA()(),t.TgZ(20,"div",10),t.YNc(21,T,2,0,"button",11),t.YNc(22,E,2,0,"button",12),t.YNc(23,Z,2,0,"button",13),t.qZA()()),2&n&&(t.Q6J("ngClass",t.VKq(26,A,o.isBoardUpdating)),t.xp6(2),t.Q6J("ngIf",!o.isBoardUpdating),t.xp6(1),t.Q6J("ngIf",o.isBoardUpdating),t.xp6(2),t.Oqu(t.xi3(6,11,o.board.description,16)),t.xp6(3),t.Oqu(t.xi3(9,14,o.board.created_date,"HH:mm MMM/dd/Y")),t.xp6(4),t.hij("TD: ",t.xi3(13,17,o.board.tasks,o.Status.TD),""),t.xp6(3),t.hij("IP: ",t.xi3(16,20,o.board.tasks,o.Status.IP),""),t.xp6(3),t.hij("D: ",t.xi3(19,23,o.board.tasks,o.Status.D),""),t.xp6(3),t.Q6J("ngIf",!o.isBoardUpdating),t.xp6(1),t.Q6J("ngIf",o.isBoardUpdating),t.xp6(1),t.Q6J("ngIf",o.isBoardUpdating))},dependencies:[c.mk,c.O5,l.rH,d.Fj,d.JJ,d.On,c.uU,B.O,O],styles:["[_nghost-%COMP%]{width:30%;height:-moz-fit-content;height:fit-content}.board[_ngcontent-%COMP%]{position:relative;display:block;background:#fff;box-shadow:0 5px 10px #0006;text-decoration:none;width:100%;height:100%;color:#000}.board__text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:10rem;padding:1rem;font-size:1.2rem}.board__text-name[_ngcontent-%COMP%]{cursor:pointer;width:-moz-fit-content;width:fit-content}.board__text-name_active[_ngcontent-%COMP%]{padding:.5rem;font-size:1rem;background:#f4f4f4;font-weight:700;border:none;width:100%}.board__text-description[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;font-weight:700}.board[_ngcontent-%COMP%]   .counts[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:space-around;align-items:center;width:100%;bottom:0;opacity:0;transition:all .5s ease-in-out;cursor:default;height:2rem;background:#555555;font-size:1.2rem}.board[_ngcontent-%COMP%]   .counts[_ngcontent-%COMP%]   .todo[_ngcontent-%COMP%]{color:#d6c45b}.board[_ngcontent-%COMP%]   .counts[_ngcontent-%COMP%]   .ip[_ngcontent-%COMP%]{color:#5cb8dd}.board[_ngcontent-%COMP%]   .counts[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]{color:#88ce60}.board[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;justify-content:space-evenly;top:0;right:0;height:120%;width:2rem;opacity:0;transition:all .5s ease-in-out}.board[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;width:100%}.board[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.board[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .board.updating[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{transform:translate(2.4rem);opacity:1}.board[_ngcontent-%COMP%]:hover   .counts[_ngcontent-%COMP%], .board.updating[_ngcontent-%COMP%]   .counts[_ngcontent-%COMP%]{transform:translateY(2rem);opacity:1}"],changeDetection:0}),e})();var y=i(486);function w(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"app-board",6),t.NdJ("updateBoardEvent",function(a){const p=t.CHM(n).$implicit,Y=t.oxw();return t.KtG(Y.updateBoard(a,p.name,p._id))})("deleteBoardEvent",function(){const s=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.deleteBoard(s._id))})("setBoardUpdatingEvent",function(){const s=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.setBoardUpdating(s._id))}),t.qZA()}if(2&e){const n=r.$implicit,o=t.oxw();t.Q6J("board",n)("isBoardUpdating",o.boardUpdating===n._id)}}function F(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"app-add-board-modal",7),t.NdJ("addBoardEvent",function(a){t.CHM(n);const s=t.oxw();return t.KtG(s.addBoard(a))})("closeModalEvent",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.closeModal())}),t.qZA()}}const J=[{path:"",component:(()=>{class e{constructor(n){this.boardsService=n,this.isModalOpen=!1,this.filterType=_.vA.boards,this.searchValue="",this.filterValue=_.wn.date,this.filterDirection=!1}ngOnInit(){this.boardsService.getBoards(),this.boards=this.boardsService.boards$}addBoard(n){this.boardsService.addBoard(n.name,n.description),this.isModalOpen=!1}updateBoard(n,o,a){this.boardUpdating="",n&&o!==n&&this.boardsService.updateBoard(a,n)}setBoardUpdating(n){this.boardUpdating=n}deleteBoard(n){this.boardsService.deleteBoard(n)}closeModal(){this.isModalOpen=!1}openModal(){this.isModalOpen=!0}search(n){this.searchValue=n}setFilterDirection(n){this.filterDirection=n}setFilterValue(n){this.filterValue=n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.E))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-boards"]],decls:8,vars:10,consts:[[1,"dashboard"],["title","Dashboard",3,"filterType","openModalEvent","searchEvent","selectFilterDirectionEvent","selectFilterValueEvent","openAddModalEvent"],[1,"boards"],[1,"boards-wrapper"],[3,"board","isBoardUpdating","updateBoardEvent","deleteBoardEvent","setBoardUpdatingEvent",4,"ngFor","ngForOf"],[3,"addBoardEvent","closeModalEvent",4,"ngIf"],[3,"board","isBoardUpdating","updateBoardEvent","deleteBoardEvent","setBoardUpdatingEvent"],[3,"addBoardEvent","closeModalEvent"]],template:function(n,o){1&n&&(t.TgZ(0,"main",0)(1,"app-filter-header",1),t.NdJ("openModalEvent",function(){return o.openModal()})("searchEvent",function(s){return o.search(s)})("selectFilterDirectionEvent",function(s){return o.setFilterDirection(s)})("selectFilterValueEvent",function(s){return o.setFilterValue(s)})("openAddModalEvent",function(){return o.openModal()}),t.qZA(),t.TgZ(2,"section",2)(3,"div",3),t.YNc(4,w,1,2,"app-board",4),t.ALo(5,"filter"),t.ALo(6,"async"),t.qZA()(),t.YNc(7,F,1,0,"app-add-board-modal",5),t.qZA()),2&n&&(t.xp6(1),t.Q6J("filterType",o.filterType),t.xp6(3),t.Q6J("ngForOf",t.gM2(5,3,t.lcZ(6,8,o.boards),o.searchValue,o.filterDirection,o.filterValue)),t.xp6(3),t.Q6J("ngIf",o.isModalOpen))},dependencies:[c.sg,c.O5,g.B,v,U,c.Ov,y.g],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:95vh;width:100%;background:#f5f5f5}.dashboard[_ngcontent-%COMP%]   .boards[_ngcontent-%COMP%]{padding:3rem}.dashboard[_ngcontent-%COMP%]   .boards-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3rem 3rem;height:100%}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(J),l.Bz]}),e})();var k=i(4466),I=i(3239),q=i(8975),Q=i(3911);let V=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[u.E],imports:[c.ez,N,k.m,d.UX,I.F,d.u5,q.d,Q.o]}),e})()}}]);